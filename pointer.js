// Generated by CoffeeScript 1.6.2
(function() {
  var PointerLock;

  PointerLock = {
    init: function() {
      this.enabled = false;
      return ["", "moz", "webkit"].forEach(function(prefix) {
        var changeCallback;
        changeCallback = function(e) {
          console.log("pointer lock changed for " + prefix);
          return console.log(e.type);
        };
        return document.addEventListener(prefix + 'pointerlockchange', changeCallback, false);
      });
    },
    requestPointerLock: function(container) {
      var onScreenChange;
      container.requestPointerLock = container.requestPointerLock || container.mozRequestPointerLock || container.webkitRequestPointerLock;
      if (container.mozRequestFullScreen) {
        container.mozRequestFullScreen();
        if (document.mozFullScreenElement === container) {
          onScreenChange = container.requestPointerLock();
        }
        return document.addEventListener("mozfullscreenchange", onScreenChange, false);
      } else {
        return container.requestPointerLock();
      }
    }
  };

  window.onload = function() {
    var button;
    button = document.querySelector("#click");
    PointerLock.init();
    return button.addEventListener("click", function() {
      return PointerLock.requestPointerLock(button);
    });
  };

}).call(this);
